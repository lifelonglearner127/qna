<!-- Template for subject dropdown select for analysis create/update form -->
<script id="new-analysis-subject-select-template" type="text/x-handlebars-template">
    <option value="">Select a Subject</option>
    {{#each subjects}}
    <option value="{{id}}">{{question}}</option>
    {{/each}}
</script>

<!-- Template for calculation dropdown select for analysis create/update form -->
<script id="new-anlysis-calculation-select-template" type="text/x-handlebars-template">
    <option value="">Select a calculation</option>
    {{#each calculations}}
    <option value="{{id}}">{{name}}</option>
    {{/each}}
</script>

<!-- Template for operator dropdown select to be used in analysis create/update form -->
<script id="new-analysis-operator-select-template" type="text/x-handlebars-template">
    <option value="">Select an operator</option>
    {{#each operators}}
    <option value="{{value}}">{{caption}}</option>
    {{/each}}
</script>

<!-- Template to display subject comparison in analysis create/update form. -->
<script id="new-analysis-condition-subject-template" type="text/x-handlebars-template">
    <div class="row form-group condition condition-subject" data-id="{{id}}">
        <div class="col-xs-2">
            <strong>subject_{{id}}</strong>
        </div>
        <div class="col-xs-4 question">
            {{operator}}
        </div>
        <div class="col-xs-4 answer">
            {{value}}
        </div>
        <div class="col-xs-2">
            <button class="btn btn-danger form-control condition-subject-delete">Delete</button>
        </div>
    </div>
</script>

<!-- Template to display calculation comparison in analysis create/update form. -->
<script id="new-analysis-condition-calculation-template" type="text/x-handlebars-template">
    <div class="row form-group condition condition-calculation" data-id="{{id}}">
        <div class="col-xs-2">
            <strong>calculation_{{id}}</strong>
        </div>
        <div class="col-xs-4 factors">
            {{operator}}
        </div>
        <div class="col-xs-4 value">
            {{value}}
        </div>
        <div class="col-xs-2">
            <button class="btn btn-danger form-control condition-subject-delete">Delete</button>
        </div>
    </div>
</script>

<!-- Template of subject select to be used as a staring point in a wizard -->
<script id="wizard-starting-question-template" type="text/x-handlebars-template">
    <!--<div class="form-group">-->
        <label for="wizard-starting-subject">Starts with:</label>
        <select id="wizard-starting-subject" class="form-control">
            {{#each subjects}}
            <option value="{{id}}" 
            {{#if selected }}
                selected
            {{/if}}>{{question}}</option>
            {{/each}}
        </select>
    <!--</div>-->
</script>

<!-- Template for wizards table in the first page of admin Tool -->
<script id="wizards-list-template" type="text/x-handlebars-template">
    <!--<div class="panel panel-default">-->
        <div class="panel-heading">
            <h3>{{title}}</h3>
            <button class="btn btn-default pull-right new-wizard" id="new-wizard-button">New Wizard</button>
        </div>
        <div class="panel-body">
            {{> wizardsTable }}
        </div>
        <div class="panel-footer">
            <div class="row">
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6">
                    <button class="btn btn-default form-control">Prev</button>
                </div>
                <div class="col-lg-2 col-lg-offset-8 col-md-3 col-md-offset-6 col-sm-4 col-sm-offset-4 col-xs-6">
                    <button class="btn btn-primary form-control" id="wizards-view-results-button">View Results</button>
                </div>
            </div>
        </div>
    <!--</div>-->
</script>

<!-- Template for the button to add a new answer option in subject create/update form. -->
<script id="add-new-answer-option-button" type="text/x-handlebars-template">
    <div class="form-group">
        <button class="btn btn-default pull-right" id="btn-add-answer-option">Add new Answer Option</button>
    </div>
</script>

<!-- Template for the button to add a new factor in calculation create/update form. -->
<script id="add-new-factor-option-button" type="text/x-handlebars-template">
    <div class="form-group">
        <button class="btn btn-default pull-right" id="btn-add-factor-option">Add new factor(operand)</button>
    </div>
</script>


<!-- Template of new factor option in calculation create/update form.-->
<script id="new-calculation-factor-option-template" type="text/x-handlebars-template">
    <!--<div id="new-calculation-factors-container">-->
        <div class="form-group row factor-option">
            <div class="col-lg-2 col-md-3 col-sm-sm-3 col-xs-3">
                <input data-id="coeff" type="number" placeholder="Coefficient" value="{{coeff}}" class="form-control">
            </div>
            <div class="col-lg-8 col-md-6 col-sm-sm-6 col-xs-6">
                <select class="form-control" data-id="subject-id">
                    {{#each subjects}}
                    <option value="{{id}}" 
                        {{#if selected}}
                        selected
                        {{/if}}
                        >{{question}}
                    </option>
                    {{/each}}
                </select>
            </div>
            <div class="col-lg-2 col-md-3 col-sm-sm-3 col-xs-3">
                <button class="btn btn-danger form-control factor-option-delete">Remove</button>
            </div>
        </div>
    <!--</div>-->
</script>

<!-- Template of answer Type dropdown select to be used in subject create/update form. -->
<script id="new-subject-type-template" type="text/x-handlebars-template">
    <!--<select class="form-control" id="new-subject-type-select">-->
        {{#each types}}
        <option value="{{id}}">{{type_name}}</option>
        {{/each}}
    <!--</select>-->
</script>

<!-- Template of wizards table in wizard list page of admin tool, which is the first page in the current version. -->
<script id="wizards-table-template" type="text/x-handlebars-template">
    <table class="{{class}}" id="{{id}}">
        <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th class="actions-header">Actions</th>
            </tr>
        </thead>
        <tbody>
            {{#each wizards}}
            <tr data-wizard-id='{{id}}'>
                <td>{{@index}}</td>
                <td>{{name}}</td>
                <td>
                    <div class="col-xs-6">
                        <button class="btn btn-info form-control wizard-edit">Edit</button>
                    </div>
                    <div class="col-xs-6">
                        <button class="btn btn-danger form-control wizard-delete">Delete</button>
                    </div>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</script>

<!-- Template of answer option that appears when clicking "New Ansewr option" button in subject create/update form. -->
<script id="new-answer-option-template" type="text/x-handlebars-template">
    <div class="form-group row answer-option">
        <div class="col-lg-3 col-md-3 col-sm-sm-3 col-xs-2">
            <input data-id="caption" placeholder="Caption" value="{{caption}}" class="form-control">
        </div>
        <div class="col-lg-2 col-md-2 col-sm-sm-2 col-xs-2">
            <input data-id="value" placeholder="Value" class="form-control" value="{{value}}">
        </div>
        <div class="col-lg-2 col-md-2 col-sm-sm-2 col-xs-2">
            <input type="number" placeholder="Weight" data-id="weight" class="form-control" value="{{weight}}">
        </div>
        <div class="col-lg-3 col-md-3 col-sm-sm-3 col-xs-4">
            <select class="form-control" data-id="next">
                <option value="">Select a next subject</option>
                {{#each subjects}}
                <option value="{{id}}" 
                    {{#if selected}} 
                        selected 
                    {{/if}}
                >{{question}}</option>
                {{/each}}
                <!--<option value="create_new_and_link">Create to Link</option>-->
            </select>
        </div>
        <div class="col-lg-2 col-md-2 col-sm-sm-2 col-xs-2">
            <button class="btn btn-danger form-control answer-option-delete">Remove</button>
        </div>
    </div>
</script>

<!-- Template of subject table in wizard management page that appears once a wizard selected.-->
<script id="subjects-table-template" type="text/x-handlebars-template">
    <table class="{{class}}" id="{{id}}">
        <thead>
            <tr>
                <th>#</th>
                <th>Question</th>
                <th>Answer Type</th>
                <th class="actions-header">Actions</th>
            </tr>
        </thead>
        <tbody>
            {{#each subjects}}
            <tr data-subject-id='{{id}}'>
                <td>{{@index}}</td>
                <td>{{question}}</td>
                <td>{{type_name}}</td>
                <td>
                    <div class="col-xs-6">
                        <button class="btn btn-info form-control subject-edit">Edit</button>
                    </div>
                    <div class="col-xs-6">
                        <button class="btn btn-danger form-control subject-delete">Delete</button>
                    </div>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</script>

<!-- Template of calculation table in wizard management page that appears once a wizard selected.-->
<script id="calculation-table-template" type="text/x-handlebars-template">
    <table class="{{class}}" id="{{id}}">
        <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>operator</th>
                <th>Factors</th>
                <th class="actions-header">Actions</th>
            </tr>
        </thead>
        <tbody>
            {{#each calculations}}
            <tr data-calculation-id='{{id}}'>
                <td>{{@index}}</td>
                <td>{{name}}</td>
                <td>{{operator}}</td>
                <td><code>{{factors}}</code></td>
                <td>
                    <div class="col-xs-6">
                        <button class="btn btn-info form-control calculation-edit">Edit</button>
                    </div>
                    <div class="col-xs-6">
                        <button class="btn btn-danger form-control calculation-delete">Delete</button>
                    </div>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</script>

<!-- Template of analyses table in wizard management page that appears once a wizard selected.-->
<script id="analyses-table-template" type="text/x-handlebars-template">
    <table class="{{class}}" id="{{id}}">
        <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Condition</th>
                <th>Result</th>
                <th class="actions-header">Actions</th>
            </tr>
        </thead>
        <tbody>
            {{#each analyses}}
            <tr data-analysis-id='{{id}}'>
                <td>{{@index}}</td>
                <td>{{name}}</td>
                <td><code>{{condition}}</code></td>
                <td><code>{{result}}</code></td>
                <td>
                    <div class="col-xs-6">
                        <button class="btn btn-info form-control analysis-edit">Edit</button>
                    </div>
                    <div class="col-xs-6">
                        <button class="btn btn-danger form-control analysis-delete">Delete</button>
                    </div>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</script>

<!-- Template of results table in wizard management page that appears once a wizard selected.-->
<script id="results-table-template" type="text/x-handlebars-template">
    <table class="{{class}}" id="{{id}}">
        <thead>
            <tr>
                <th>#</th>
                <th>User</th>
                <th class="actions-header">Actions</th>
            </tr>
        </thead>
        <tbody>
            {{#each results}}
            <tr data-result-id='{{id}}'>
                <td>{{@index}}</td>
                <td>{{user_id}}</td>
                <td>
                    <div class="col-xs-6">
                        <button class="btn btn-info form-control result-view">View</button>
                    </div>
                    <div class="col-xs-6">
                        <button class="btn btn-danger form-control result-delete">Delete</button>
                    </div>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</script>


<!-- Template of Comparison visible type dropdown list in analysis create/update form. -->
<script id="new-analysis-comparison-visible-type-select-template" type="text/x-handlebars-template">
    {{#if is_subject}}
    <option value="question">Question</option>
    <option value="answer" selected>Answer</option>
    {{else}}
    <option value="name">Name</option>
    <option value="value" selected>Value</option>
    {{/if}}
</script>

<!-- Template of comparison value dropdown list in analysis create/update form. -->
<script id="new-analysis-comparison-value-select-template" type="text/x-handlebars-template">
    {{#if is_subject}}
        <option value="">Select a Subject</option>
        {{#if is_answer}}
            {{#each subjects}}
            <option value="A{{id}}">{{question}}</option>
            {{/each}}
        {{else}}
            {{#each subjects}}
            <option value="Q{{id}}">{{question}}</option>
            {{/each}}
        {{/if}}
    {{else}}
        <option value="">Select a Calculation</option>
        {{#if is_value}}
            {{#each calculations}}
            <option value="Val{{id}}">{{name}}</option>
            {{/each}}
        {{else}}
            {{#each calculations}}
            <option value="Calc{{id}}">{{name}}</option>
            {{/each}}
        {{/if}}
    {{/if}}
</script>